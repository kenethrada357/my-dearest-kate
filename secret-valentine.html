<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coco&Bunny</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Great+Vibes&family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&family=Sacramento&display=swap"
      rel="stylesheet"
    />

    <!-- Firebase SDK -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import {
        getFirestore,
        collection,
        addDoc,
        getDocs,
        query,
        orderBy,
        deleteDoc,
        doc,
        updateDoc,
        serverTimestamp,
        onSnapshot,
        where,
      } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDU-YmdVWIDDiQq827hlOAXZyPW2xWeXGk",
        authDomain: "my-login-project-f46c0.firebaseapp.com",
        projectId: "my-login-project-f46c0",
        storageBucket: "my-login-project-f46c0.firebasestorage.app",
        messagingSenderId: "543180001053",
        appId: "1:543180001053:web:e07b86beb95cdf954bdbf4",
        measurementId: "G-41Q2E8K05G",
      };

      const app = initializeApp(firebaseConfig);
      const firestore = getFirestore(app);

      window.firebaseReady = true;
      window.db = firestore;
      window.addDoc = addDoc;
      window.collection = collection;
      window.getDocs = getDocs;
      window.query = query;
      window.orderBy = orderBy;
      window.deleteDoc = deleteDoc;
      window.doc = doc;
      window.updateDoc = updateDoc;
      window.serverTimestamp = serverTimestamp;
      window.onSnapshot = onSnapshot;
      window.where = where;
    </script>
  </head>
  <body>
    <!-- Custom Cursor -->
    <div class="cursor"></div>
    <div class="cursor-follower"></div>
    <!-- Floating Hearts Background -->
    <div class="floating-hearts"></div>
    <!-- Section 1: Home -->
    <section id="home" class="section hero-section">
      <div class="overlay"></div>
      <div class="content">
        <h1 class="fade-in">Hii Kate Happy Valentine's Day!!</h1>
        <p class="fade-in delay-1">"A Little Note for Someone Special"</p>
        <button class="btn fade-in delay-2" onclick="scrollToSection('#about')">
          Coco: Scroll Down po
        </button>
      </div>
    </section>
    <!-- Section 2: About -->
    <section id="about" class="section about-section">
      <div class="container">
        <h2 class="section-title slide-up">Coco & Bunny</h2>
        <div class="content-box">
          <div class="image-box slide-right">
            <img src="images/1.jpg" alt="Our Picture" />
          </div>
          <div class="text-content slide-left">
            <h3>Flowers for you po galing kay Coco</h3>
            <p>
              and so ayun lagi ka nilang nireremind sakin lalo si coco pero
              thankyou dahil nagkaron ako ng plushie and ikkeep ko sila ang cute
              nila e then sya din kausap ko pag namimiss ka.
            </p>
            <p>
              thankyouu sa gift mo and baka bumili din ako ng isang plushie
              secret kung ano yun, isa pa don they don't smell like you anymore
              na hahaha kainis.
            </p>
            <p>
              and last si popo yung keychain na binigay mo, lagi ko syang gamit
              e maraming may gustong umangkin sa kanya pero sabi ko bawal e so
              ayun lang notes ko about sa plushie oa pero gusto ko lang na
              updated ka sa kanila.
            </p>
          </div>
        </div>
      </div>
    </section>
    <section id="message">
      <section id="message" class="section message-section">
        <div class="container">
          <h2 class="section-title slide-up">A Gentle Reminder</h2>
          <div class="message-cards">
    <div class="card slide-up delay-1">
      <div class="card-icon">
        <img src="images/7.jpg" alt="Bunny" />
      </div>
      <h3>Stay Well, Your Health is a Priority</h3>
      <p>
        I've noticed you've been getting sick lately, so please make sure na nag
        rerest ka. iknow na marami kang priorities so iwas ka sa mga bawal and
        mag take ka ng vitamins kung kinakailangan
      </p>
    </div>
    <div class="card slide-up delay-2">
      <div class="card-icon">
        <img src="images/8.jpg" alt="Cat" />
      </div>
      <h3>For the Days It Feels Heavy</h3>
      <p>
        Remember, on days when it feels like everything is too much, you really
        don't have to carry the weight alone. Okay lang na mapagod minsan, and
        it's okay to take a break from your own thoughts. willing ako makinig
        whenever if you're ready. so wag ka mahiya na kausapin ako ah.
      </p>
    </div>
    <div class="card slide-up delay-3">
      <div class="card-icon">
        <img src="images/9.jpg" alt="Bear" />
      </div>
      <h3>A Gentle Reminder of Your Worth</h3>
      <p>
        It's okay to be productively restful stop feeling guilty for resting.
        resting is not sayang sa oras it's actually what your brain needs para
        hindi ka ma-burnout and hindi matrigger anxiety mo.
      </p>
    </div>
  </section>

    <!-- Section 4: Music Playlist -->
    <section id="music" class="section music-section">
      <div class="container">
        <h2 class="section-title slide-up">Music That Speaks Your Name</h2>
        <div class="spotify-container slide-up delay-1">
          <iframe
            src="https://open.spotify.com/embed/playlist/6UfxpUiVGx2GljGkIFSZIy?utm_source=generator&theme=0"
            width="100%"
            height="380"
            frameborder="0"
            allow="encrypted-media"
            loading="lazy"
          >
          </iframe>
        </div>
        <p class="music-note slide-up delay-2">
          Every time I hear these songs, parang naririnig ko ulit yung boses mo,
          yung kwentuhan natin hanggang madaling araw. Parang background score
          ng mga memories natin hahaha kahit hindi na tayo magkausap, these
          songs that will always remind me of you.
        </p>
      </div>
    </section>
    <!-- Section 5: Gallery -->
    <section id="gallery" class="section gallery-section">
      <div class="container">
        <h2 class="section-title slide-up">Cutie Drawing</h2>
        <div class="gallery-grid">
          <div class="gallery-item zoom-in">
            <img src="images/4.jpg" alt="Memory 1" />
            <div class="overlay-text">Miss na kita</div>
          </div>
          <div class="gallery-item zoom-in delay-1">
            <img src="images/5.jpg" alt="Memory 2" />
            <div class="overlay-text">Garden ko</div>
          </div>
          <div class="gallery-item zoom-in delay-2">
            <img src="images/6.jpg" alt="Memory 3" />
            <div class="overlay-text">Flower for you po</div>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 6: Love Letter -->
    <section id="letter" class="section letter-section">
      <div class="container">
        <h2 class="section-title slide-up">My Side</h2>
        <div class="letter-box slide-up delay-1">
          <div class="letter-header">
            <p>My Dearest Kate,</p>
          </div>
          <div class="letter-body">
            <p>
              mahaba to kaya sana wag ka tamarin and so ayun tatagalugin ko
              nalang para hindi ako mahirapan hahhaa hiii kate kumusta ka?
              nagkakasakit ka pa ba? na ppressure ba ikaw sa study mo?
              nattrigger ba lagi yung anxiety mo? wala akong balita sayo e and
              nahihiya naman ako na kumustahin ka and you know naman na nahihiya
              ako sayo, nag simple effort lang ako kasi ayoko lang na mamiss
              yung oppurtunity na ito kaya ginawa ko na at para wala akong
              pagsisihan.
            </p>
            <p>
              and about sa nangyari that time galit ako non, ewan ko gusto
              kitang iunfriend lahat pero parang nagsisisi na ako ngayon kasi
              ginawa ko sya hahaha, hindi ako nag explain about sa side ko kasi
              ayokong magsalita pag ganon yung naffeel ko e baka mamaya may
              masabi akong hindi maganda or baka mamaya nanunumbat na pala ako
              so ayoko na may marinig kang ganon sakin.
            </p>
            <p>
              iknow na mali nga yung hindi ako nag eexplain pero kasi mabigat
              sakin e and netong nakaraan ewan sobrang hindi ako okay, gusto
              kitang kumustahin or kahit marinig ko lang boses mo feeling ko
              okay na ako non pero ayoko, kasi ayokong mag umpisa nanaman ako
              baka mamaya hindi na talaga okay para sayo na kausapin kita.
            </p>
            <p>
              maraming nangyari sakin netong nakaraang araw, gusto ko nga
              ikwento sayo e pero bawal so nag drama nalang ako sa socmed medyo
              childish pero hayaan mo na lumipas naman na hahaha and about dito
              sa ginawa ko syempre hindi sya madali and inaral ko sya kaya
              nagawa ko then hindi sya template na dinadownload ah basta gawa ko
              sya at nakakaproud sya kasi may natutunan nanaman ako hehe.
            </p>
            <p>
              ang so ayun dito ko nalnag kwento hahaha si nat nasa makati na so
              wala na me kasama kaya bihira nalang me lumabas, and about sa
              alcohol hindi na me nag ttake non, last time nag take ako ng cobra
              and sting kasi lagi ako inaantok na nilalata e and sobrang daming
              ginagawa sa school then sa bahay need gawin yung system kaya nag
              take ako non and ml nalnag yung pahinga ko kaya napanin mo nung
              nag ml tayo parang hindi ako maligalig pagod e.
            </p>
            <p>
              tapos about sa cobra and sting nakita ni mama sa kwarto ko ahahhaa
              galit na galit sya e kaya ayon hindi na ako nag ttake, hindi na
              rin ako nag cocoffee, matcha nalnag sya and strawberry milk and
              about sa vape nagiging madalas na e siguro dahil stress ako and
              dun pala sa templado tatlo talaga kami mag ttemplado nun hindi
              kasama si nat ewan ko bat nasabi ni nat na napadaan don.
            </p>
            <p>
              pero ang totoo non e inaya ko talaga dalawa kong friend then
              templado punta tapos chinat ko si nat e sakto nasa glorietta sila
              ng mga friends nya so inaya ko tapos nung nasa templado kami e
              kami lang tao tapos may ano don e yung sa parang confession wall
              ba yun basta ayun pero what if sya, nag lagay ako don eh nabasa
              mo? halatang sakin yun kasi may coco and bunyy e hahaha eme eme
              lang yun namimiss kita e.
            </p>
            <p>
              and about naman sa namimiss e ayun lagi kita namimiss, walang araw
              na hindi kita namiss, pero ngayon lang to mawawala din to hahahha
              hanggang sa masasanay nalang ulit ako sanayan ba hahaha, pag
              namimiss kita kinakausap ko si coco then nihhug ko sya bago
              matulog naging routine ko sya galing nga e ang comfy nya kaso
              hindi mo na sila kaamoy, minsan nag bbasa ako book pag may time o
              maligalig ako.
            </p>
            <p>
              and about sa socmed, iknow na papansin nga ako puro ako parinig,
              pero feeling ko hindi mo naman siguro nakikita kasi hindi na tayo
              mutual e, inunfriend kita kasi lagi kitang makikita e then parang
              lalakas loob ko na kausapin ulit kita minsan ni vview ko story mo
              gamit acc ko, wala akong dump acc e kaya sana hindi mo napapansin
              yun.
            </p>
            <p>
              yung about sa note na yan, hindi naman about sa confession or
              about sa love, ahm siguro last update na yan?? siguro kasi parang
              wala na akong nakikitang chance e, and alam mo ba nagsisisi akong
              inunfriend kita kasi ewan gusto ko umeepal ka lagi sa fb, ig world
              ko pero pag naman ganon e itutulak nanaman yung loob ko na
              kausapin ka, pero sana mutual ulit tayo pero sana lang naman.
            </p>
            <p>
              and about sa dump acC mo bakit mo ako binlock sa dump acc mo?
              walalang curious lang ako, and about sa life ko, syempre mabigat
              sakin yung nangyari pero hinAhayaan ko nalng, wala e nirerespeto
              ko yung desisyon mo, feeliNg ko nga ngayon ang disrespectful kong
              tao kasi gumawa ako ng ganito pero yaan mo na last naman na siguro
              to.
            </p>
            <p>
              and ayun lang siguro ang haba na e, anddd i Wish na nakatulong
              yung reminder notE ko sayo so sana iapply mo sa self mo, and yung
              niremind ko sayo na pag sobrang bigat na pwede mo naman ako
              kausapin or pag hindi mo kaya e lumabas kayo ng friends mo ganon
              then idaan mo sa prayy para kahiT pano gumaan pero wag mo parin
              kalimutan na willing ako makinig sayo and fRee time naman ako pag
              dating sayo.
            </p>
            <p>
              and sana nakatulong sayo yung desisYon na napili mo kasi
              kahit ayoko pinilit ko e baka ayun talaga nakakabuti sayo and lagi
              ka mag iingat kate ahh wag mo pabayaAn sarili mo, iwasan mo mag
              puyat, iwasan mo mag palipas nG gutom, iwasan mo magpatuyo ng
              pawis sa likod para hindi ka mag kAsakit, iwasan mo yung mga bawal
              and about sa fam mo pasabI mag ingat kamo sila and alagaan nila
              sarili nila then alagaan din nila yung magaN?da nilang anak bahaha
              speaking of maganda sayang lang at hindi ko manlang nakita yung mga
              dress mo habang suot mo sila, ang ganda mo dun e sobra.
            </p>
            <p>
              and yung about satin, sorry ah kung ganon yung nangyari, sorry
              kate. yung about sa mad wala na yun pinalipas ko na inisip ko
              nalang na para sayo naman talaga yan i wish na nakatulong ako sayo
              na nabawasan yung mga gampanin mo sa buhay, sorry katee and
              thankyouu, mag ingat ka palagi ayokong may mababalitaan sayong hindi maganda pag
              inaway kanila sabihin mo sakin aawayin natin sila, about sa
              flowers e ayan si coco na nag bigay hahaha so ayun lang sana
              binasa mo para hindi sayang and hindi ako namamaalam ah and again thankyouu ulit and sorry.
            </p>
          </div>
          <div class="letter-footer">
            <p>imissyouuuu,</p>
            <p><strong>ken pogi</strong></p>
          </div>
          <div class="seal">‚ù§</div>
        </div>
      </div>
    </section>
    <!-- Section: Bible Verse -->
<!-- Section: Bible Verse -->
<section id="verse" class="section verse-section">
  <div class="container">
    <p style="text-align: center;">A Promise</p>
    <div class="verse-box slide-up" style="text-align: center;">
      <blockquote class="verse-text">
        <p class="verse-highlight">"I'm waiting for you"</p>
      </blockquote>
      <div class="verse-message slide-up delay-1">
        <cite>‚Äî inspired by Luke 15:20</cite>

      </div>
    </div>
  </div>
</section>

    <!-- Section 7: Comments -->
    <section id="comments" class="section comments-section">
      <div class="container">
        <h2 class="section-title slide-up">Leave a Comment</h2>

        <!-- Instruction Note -->
        <p class="comment-instruction slide-up delay-1">
          May comment ka? Pwede ka mag-comment if gusto mo and makikita ko sya.
        </p>

        <!-- Comment Form -->
        <div class="comment-form slide-up delay-2">
          <div class="comment-input-group">
            <label for="commentText">Your Message</label>
            <textarea
              id="commentText"
              class="comment-input"
              placeholder="Write your comment here..."
              required
            ></textarea>
          </div>
          <button class="comment-submit-btn" onclick="addComment()">
            <i class="fas fa-paper-plane"></i> Submit Comment
          </button>
        </div>

        <!-- Loading Indicator -->
        <div id="loadingComments" class="loading-comments">
          <div class="spinner"></div>
          <p>Loading comments...</p>
        </div>

        <!-- Comments List -->
        <div class="comments-list" id="commentsList">
          <!-- Comments will be displayed here dynamically -->
        </div>
      </div>
    </section>
    <!-- Footer Note -->
    <footer class="footer-note">
      <div class="footer-container">
        <p class="footer-text">
          NOTE: hindi sya downloaded na template or app. ako lang ang gumawa
          nyan so wag mo isshare sa iba yung link and yung account, isa lang kasi account nyan then para sayo lang yan and tayo
          lang ang nakaka access hehe thankyou katee.
<BR>
<BR>
          ANOTHER NOTE: hindi ko alam kung ano ba ang nakapaloob sa mga letters pag about dyan hahaha so hindi ko alam kung tama ba na ganyan ba dapat.üò≠
          
        </p>

      </div>
    </footer>
    <!-- Scroll Progress Indicator -->
    <div class="scroll-progress-container">
      <div class="scroll-progress-bar" id="progressBar"></div>
    </div>
    <script>
      let db,
        addDoc,
        collection,
        getDocs,
        query,
        orderBy,
        deleteDoc,
        doc,
        updateDoc,
        serverTimestamp,
        onSnapshot,
        where;
    
      setTimeout(() => {
        if (window.firebaseReady && window.db) {
          db = window.db;
          addDoc = window.addDoc;
          collection = window.collection;
          getDocs = window.getDocs;
          query = window.query;
          orderBy = window.orderBy;
          deleteDoc = window.deleteDoc;
          doc = window.doc;
          updateDoc = window.updateDoc;
          serverTimestamp = window.serverTimestamp;
          onSnapshot = window.onSnapshot;
          where = window.where;
    
          console.log("‚úÖ Firebase initialized successfully!");
          setupRealtimeComments();
        } else {
          console.error("‚ùå Firebase failed to initialize!");
          alert("Firebase failed to load. Please refresh the page.");
        }
      }, 1500);
    
      // Add Comment to Firebase
      async function addComment() {
        const textInput = document.getElementById("commentText");
        const text = textInput.value.trim();
        const submitBtn = document.querySelector(".comment-submit-btn");
    
        if (!text) {
          alert("Please write a comment!");
          return;
        }
    
        if (!db) {
          alert("Firebase is still loading. Please wait a moment.");
          return;
        }
    
        submitBtn.disabled = true;
        submitBtn.innerHTML =
          '<i class="fas fa-spinner fa-spin"></i> Submitting...';
    
        console.log("üì§ Submitting comment:", text);
    
        try {
          const commentRef = await addDoc(collection(db, "comments"), {
            text: text,
            date: serverTimestamp(),
            createdAt: new Date().toISOString(),
            isDeleted: false, // Soft delete flag
            edited: false,
          });
    
          console.log("‚úÖ Comment added with ID:", commentRef.id);
    
          textInput.value = "";
          showNotification("Comment added successfully!");
        } catch (error) {
          console.error("‚ùå Error adding comment:", error);
          console.error("Error details:", error.message);
    
          let errorMsg = "Failed to add comment. ";
    
          if (error.code === "permission-denied") {
            errorMsg +=
              "Firestore security rules are blocking the write. Please check your Firestore rules in Firebase Console.";
          } else if (error.code === "unavailable") {
            errorMsg +=
              "Firestore is unavailable. Please check your internet connection.";
          } else {
            errorMsg += "Error: " + error.message;
          }
    
          alert(errorMsg);
        } finally {
          submitBtn.disabled = false;
          submitBtn.innerHTML =
            '<i class="fas fa-paper-plane"></i> Submit Comment';
        }
      }
    
      // Real-time Comments Listener with Edit & Soft Delete
      function setupRealtimeComments() {
        const commentsList = document.getElementById("commentsList");
        const loadingIndicator = document.getElementById("loadingComments");
    
        if (!db) {
          commentsList.innerHTML =
            '<p class="no-comments">Firebase is loading...</p>';
          return;
        }
    
        loadingIndicator.style.display = "block";
        commentsList.style.display = "none";
    
        // Query only non-deleted comments
        const q = query(
          collection(db, "comments"),
          where("isDeleted", "==", false),
          orderBy("date", "desc")
        );
    
        // onSnapshot listens for real-time changes
        const unsubscribe = onSnapshot(
          q,
          (querySnapshot) => {
            console.log(`üì° Real-time update: ${querySnapshot.size} comments`);
    
            if (querySnapshot.empty) {
              commentsList.innerHTML = `
              <div class="no-comments">
                <i class="fas fa-comment-slash"></i>
                <p>Be the first to leave a comment! üí¨</p>
              </div>
            `;
              loadingIndicator.style.display = "none";
              commentsList.style.display = "block";
              return;
            }
    
            let commentsHTML = "";
    
            querySnapshot.forEach((doc) => {
              const comment = doc.data();
              const commentId = doc.id;
    
              const commentDate = comment.date?.toDate
                ? comment.date.toDate()
                : new Date(comment.createdAt);
              const formattedDate = commentDate.toLocaleDateString("en-PH", {
                year: "numeric",
                month: "long",
                day: "numeric",
                hour: "2-digit",
                minute: "2-digit",
              });
    
              const editedBadge = comment.edited
                ? '<span class="edited-badge">(edited)</span>'
                : "";
    
              commentsHTML += `
              <div class="comment-item" id="comment-${commentId}">
                <div class="comment-header">
                  <div class="comment-date">
                    <i class="fas fa-clock"></i> ${formattedDate}
                  </div>
                </div>
                <div class="comment-content" id="comment-content-${commentId}">
                  ${escapeHtml(comment.text)}
                  ${editedBadge}
                </div>
                <div class="comment-actions">
                  <button class="comment-btn comment-edit-btn" onclick="showEditForm('${commentId}')">
                    <i class="fas fa-edit"></i> Edit
                  </button>
                  <button class="comment-btn comment-delete-btn" onclick="softDeleteComment('${commentId}')">
                    <i class="fas fa-trash"></i> Delete
                  </button>
                </div>
                
                <!-- Edit Form (hidden by default) -->
                <div class="edit-form" id="edit-form-${commentId}" style="display: none;">
                  <textarea id="edit-text-${commentId}" class="comment-input">${escapeHtml(
                comment.text
              )}</textarea>
                  <div class="edit-actions">
                    <button class="edit-cancel-btn" onclick="hideEditForm('${commentId}')">Cancel</button>
                    <button class="edit-save-btn" onclick="saveEdit('${commentId}')">Save</button>
                  </div>
                </div>
              </div>
            `;
            });
    
            commentsList.innerHTML = commentsHTML;
            loadingIndicator.style.display = "none";
            commentsList.style.display = "block";
          },
          (error) => {
            console.error("‚ùå Real-time listener error:", error);
    
            let errorMsg =
              '<i class="fas fa-exclamation-triangle"></i><p>Failed to load comments.</p>';
    
            if (error.code === "permission-denied") {
              errorMsg +=
                '<p style="font-size: 0.9rem; margin-top: 10px;">Firestore rules are blocking access.</p>';
            }
    
            commentsList.innerHTML = `
            <div class="error-message">
              ${errorMsg}
            </div>
          `;
            loadingIndicator.style.display = "none";
            commentsList.style.display = "block";
          }
        );
    
        return unsubscribe;
      }
    
      // Show Edit Form
      function showEditForm(commentId) {
        const editForm = document.getElementById(`edit-form-${commentId}`);
        const commentContent = document.getElementById(
          `comment-content-${commentId}`
        );
    
        if (editForm && commentContent) {
          editForm.style.display = "block";
          commentContent.style.display = "none";
    
          // Focus on textarea
          const textarea = document.getElementById(`edit-text-${commentId}`);
          textarea.focus();
        }
      }
    
      // Hide Edit Form
      function hideEditForm(commentId) {
        const editForm = document.getElementById(`edit-form-${commentId}`);
        const commentContent = document.getElementById(
          `comment-content-${commentId}`
        );
    
        if (editForm && commentContent) {
          editForm.style.display = "none";
          commentContent.style.display = "block";
        }
      }
    
      // Save Edit
      async function saveEdit(commentId) {
        const editText = document
          .getElementById(`edit-text-${commentId}`)
          .value.trim();
    
        if (!editText) {
          alert("Comment cannot be empty!");
          return;
        }
    
        if (!db) {
          alert("Firebase is not ready yet.");
          return;
        }
    
        try {
          const commentRef = doc(db, "comments", commentId);
          await updateDoc(commentRef, {
            text: editText,
            date: serverTimestamp(),
            edited: true,
          });
    
          console.log("‚úÖ Comment updated:", commentId);
          hideEditForm(commentId);
          showNotification("Comment updated successfully!");
        } catch (error) {
          console.error("Error updating comment:", error);
          alert("Failed to update comment. Error: " + error.message);
        }
      }
    
      // Soft Delete (Hide comment but keep in database)
      async function softDeleteComment(commentId) {
        if (!confirm("Are you sure you want to delete this comment?")) {
          return;
        }
    
        if (!db) {
          alert("Firebase is not ready yet.");
          return;
        }
    
        try {
          const commentRef = doc(db, "comments", commentId);
          await updateDoc(commentRef, {
            isDeleted: true,
          });
    
          console.log("‚úÖ Comment soft-deleted:", commentId);
          showNotification("Comment Deleted!");
        } catch (error) {
          console.error("Error soft-deleting comment:", error);
          alert("Failed to hide comment. Error: " + error.message);
        }
      }
    
      // Helper function to prevent XSS
      function escapeHtml(text) {
        const div = document.createElement("div");
        div.textContent = text;
        return div.innerHTML;
      }
    
      // Show notification (FIXED: Now appears at top-center)
      function showNotification(message) {
        // Remove any existing notification
        const existing = document.querySelector(".notification");
        if (existing) existing.remove();
    
        // Create notification element with explicit top-center positioning
        const notification = document.createElement("div");
        notification.className = "notification";
        Object.assign(notification.style, {
          position: "fixed",
          top: "20px",
          left: "50%",
          transform: "translateX(-50%)",
          backgroundColor: "#4caf50",
          color: "white",
          padding: "12px 24px",
          borderRadius: "8px",
          boxShadow: "0 4px 15px rgba(0,0,0,0.2)",
          zIndex: "10001",
          display: "flex",
          alignItems: "center",
          gap: "10px",
          fontFamily: "'Montserrat', sans-serif",
          fontSize: "1.05rem",
          fontWeight: "500",
          opacity: "1",
          transition: "opacity 0.3s, transform 0.3s",
          maxWidth: "90%",
          textAlign: "center"
        });
    
        notification.innerHTML = `
          <i class="fas fa-check-circle" style="font-size: 1.3rem;"></i>
          <span>${message}</span>
        `;
    
        document.body.appendChild(notification);
    
        // Auto-dismiss with smooth fade + slide up
        setTimeout(() => {
          notification.style.opacity = "0";
          notification.style.transform = "translateX(-50%) translateY(-10px)";
          setTimeout(() => notification.remove(), 300);
        }, 2800); // Slightly shorter duration for better UX
      }
    
      // Create floating hearts
      document.addEventListener("DOMContentLoaded", () => {
        const heartsContainer = document.querySelector(".floating-hearts");
        const heartChars = ["‚ù§", "üíï", "üíñ", "üíó", "üíì", "üíù", "üíü"];
        for (let i = 0; i < 25; i++) {
          const heart = document.createElement("div");
          heart.className = "heart";
          heart.innerHTML =
            heartChars[Math.floor(Math.random() * heartChars.length)];
          const size = Math.random() * 1.5 + 0.5;
          const posX = Math.random() * 100;
          const delay = Math.random() * 15;
          const duration = Math.random() * 10 + 10;
          heart.style.fontSize = `${size}rem`;
          heart.style.left = `${posX}%`;
          heart.style.animationDelay = `${delay}s`;
          heart.style.animationDuration = `${duration}s`;
          heart.style.opacity = "0";
          heartsContainer.appendChild(heart);
        }
        document.addEventListener("click", (e) => {
          if (e.target.closest("button, a, .gallery-item")) return;
          const heart = document.createElement("div");
          heart.className = "heart-burst";
          heart.innerHTML = "‚ù§";
          heart.style.left = `${e.clientX}px`;
          heart.style.top = `${e.clientY}px`;
          const angle = Math.random() * Math.PI * 2;
          const distance = 50 + Math.random() * 50;
          heart.style.setProperty("--tx", `${Math.cos(angle) * distance}px`);
          heart.style.setProperty("--ty", `${Math.sin(angle) * distance}px`);
          document.body.appendChild(heart);
          setTimeout(() => {
            heart.remove();
          }, 1000);
        });
        const cursor = document.querySelector(".cursor");
        const cursorFollower = document.querySelector(".cursor-follower");
        document.addEventListener("mousemove", (e) => {
          const posX = e.clientX;
          const posY = e.clientY;
          cursor.style.left = `${posX}px`;
          cursor.style.top = `${posY}px`;
          setTimeout(() => {
            cursorFollower.style.left = `${posX}px`;
            cursorFollower.style.top = `${posY}px`;
          }, 50);
        });
        document
          .querySelectorAll("a, button, .gallery-item")
          .forEach((elem) => {
            elem.addEventListener("mouseenter", () => {
              cursor.style.transform = "translate(-50%, -50%) scale(2.5)";
              cursorFollower.style.transform =
                "translate(-50%, -50%) scale(1.8)";
              cursor.style.background = "#d81b60";
              cursorFollower.style.background = "#e53935";
            });
            elem.addEventListener("mouseleave", () => {
              cursor.style.transform = "translate(-50%, -50%) scale(1)";
              cursorFollower.style.transform = "translate(-50%, -50%) scale(1)";
              cursor.style.background = "#e53935";
              cursorFollower.style.background = "#f48fb1";
            });
          });
      });
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });
      function scrollToSection(sectionId) {
        const section = document.querySelector(sectionId);
        if (section) {
          section.scrollIntoView({
            behavior: "smooth",
            block: "start",
          });
        }
      }
      window.addEventListener("scroll", function () {
        const scrollTop = document.documentElement.scrollTop;
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrolled = (scrollTop / (scrollHeight - clientHeight)) * 100;
        document.getElementById("progressBar").style.width = scrolled + "%";
      });
      const observerOptions = {
        threshold: 0.1,
      };
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
          }
        });
      }, observerOptions);
      document
        .querySelectorAll(
          ".fade-in, .slide-up, .slide-left, .slide-right, .zoom-in"
        )
        .forEach((el) => {
          observer.observe(el);
        });
      window.addEventListener("load", () => {
        document
          .querySelectorAll(
            ".fade-in, .slide-up, .slide-left, .slide-right, .zoom-in"
          )
          .forEach((el) => el.classList.add("visible"));
      });
    </script>
  </body>
</html>
